<app-mobile-menu></app-mobile-menu>
<div class="ion-page" id="main-content">
  <app-mobile-toolbar-back></app-mobile-toolbar-back>
  <!-- Principal page-->
  <ion-content [fullscreen]="true">

    <div class="ion-padding">
      <!-- Asesorias confirmadas-->
      <!-- Utiliza una variable booleana para verificar si hay alguna asesoría con estado -->
      <ng-container *ngIf="consulting.status !== null && consulting.empleadoId === empleadoId">
        <!-- Encabezados que se muestran solo si hay alguna asesoría con estado -->
        <h1>Asesorias asignadas</h1>
        <h3 class="text-danger"><strong>!No olvides asistir¡</strong></h3>
      </ng-container>

      <!-- Bucle para mostrar las asesorías con estado no nulo -->
      <div *ngFor="let consulting of consultings">
        <ion-card [routerLink]="['', 'empleado', 'blog']"
          *ngIf="consulting.status !== null && consulting.empleadoId === empleadoId">
          <ion-card-header>
            <ion-card-title>{{ consulting.title }}</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            {{ consulting.comment }} <br><br>
            <span class="text-success"><strong>Estado: {{ consulting.status }}</strong> </span><br><br>
          </ion-card-content>
        </ion-card>
      </div>

      <!-- Confirmación de asistencia-->
      <h2>Asesorias pendientes de confirmación</h2>
      <ion-card [routerLink]="['','empleado','blog']">
        <ion-card-header>
          <ion-card-title>Asesoria Financiera</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          Hola, hemos agendado su cita para el día Viernes 28 de Julio, porfavor asista a la oficiona de recursos
          humanos a las 10 AM, favor de confirmar asistencia <br><br>
          <span class="text-warning text-opacity-75"><strong>Estado: Pendiente de confirmar asistencia</strong></span>
          <br><br>
          <ion-button expand="block" color="success">Confirmar asistencia</ion-button>

        </ion-card-content>
      </ion-card>
      <!-- Solicitar una asesoria-->
      <h1>Solicita una asesoria</h1>
      <ion-text color="warning"><ion-icon name="warning"></ion-icon></ion-text>
      !Aviso¡ Haz clic para agendar una cita, en caso de asesoría virtual recuerda tener instaladas las aplicaciones
      que usa tu empresa
      <ion-card *ngFor="let consulting of consultings"
        (click)="solicitarAsesoria(consulting.usuarioId, consulting.title)">
        <ion-card-header>
          <ion-card-title>{{ consulting.title }}</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          {{ consulting.description }}<br><br>
          En el horario de {{ consulting.time }} <br><br>
        </ion-card-content>
      </ion-card>
    </div>


  </ion-content>
</div>